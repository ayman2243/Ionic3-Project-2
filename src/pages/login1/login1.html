<!--
  Generated template for the Login1Page page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="primary">
      <!--
      <ion-buttons start>
        <button ion-button icon-only>
          <ion-icon name="contact"></ion-icon>
        </button>
      </ion-buttons>
      -->
      <ion-title>انشاء حساب جديد</ion-title>
      <!-- <ion-buttons end>
        <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
        </button>
      </ion-buttons> -->
    </ion-navbar>
  </ion-header>


<ion-content>
  <form (ngSubmit)="Signup()" [formGroup]="signupForm">
      <ion-grid>
          <ion-row>
              <ion-col col-12>
                  <div class="subhead" text-center>
                    بيانات الحساب
                  </div>
                  <ion-item no-padding>
                      <ion-label float-right text-end stacked>اسم الشركة</ion-label>
                      <ion-input formControlName="company_name" name="company_name" [(ngModel)]="signup.company_name" maxlength=255 type="text"></ion-input>
                  </ion-item>
                  <p text-end padding style="padding-bottom:0;">
                     في حالة كتابة اسم للشركة سوف يظهر اسم الشركة بدل من الاسم الاول والاخير
                  </p>
              </ion-col>
            </ion-row>
            <ion-row>
                <ion-col col-12>
                </ion-col>
            </ion-row>
          <ion-row>
            <ion-col col-6>
                <ion-item no-padding>
                    <ion-label float-right text-end stacked>* الاسم الاخير</ion-label>
                    <ion-input formControlName="lname" maxlength=255 name="lname" [(ngModel)]="signup.lname" type="text"></ion-input>
                  </ion-item>
            </ion-col>
            <ion-col col-6>
                <ion-item no-padding>
                    <ion-label float-right text-end stacked>* الاسم الاول</ion-label>
                    <ion-input formControlName="fname" maxlength=255 name="fname" [(ngModel)]="signup.fname" type="text"></ion-input>
                  </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <!-- <ion-col col-5>
                  <ion-item no-padding>
                    <ion-label float-right text-end stacked class="select-init"></ion-label>
                    <ion-select  [selectOptions]="selectOptions"    formControlName="cu_code" name="cu_code" [(ngModel)]="signup.cu_code" dir="rtl" okText="تم" cancelText="الغاء" placeholder="كود الدولة">
                      <ion-option *ngFor="let code of countries_codes?.countriesCodes" value="{{code.calling_code}}">{{code.label}}</ion-option>
                    </ion-select>
                  </ion-item>
            </ion-col> -->

            <ion-col col-12>
                <ion-item no-padding>
                    <ion-label float-right text-end stacked>* رقم الجوال</ion-label>
                    <ion-input (ionChange)="checkEmailOrPhone(signup.phone,'phone')" formControlName="phone" name="phone" [(ngModel)]="signup.phone" pattern="[0-9]{10,}" type="number"></ion-input>
                  </ion-item>
                  <div text-end style="color:red; padding: 10px 10px;" *ngIf="signupForm.controls.phone.invalid && signupForm.controls.phone.getError('exist')">
                    هذا الهاتف مسجل من قبل
                  </div>
                  <div text-end style="color:red; padding: 10px 10px;" *ngIf="signupForm.controls.phone.invalid && signupForm.controls.phone.pending">
                    من فصلك ادخل رقم صحيح 
                  </div>
            </ion-col>
            
          </ion-row>
          <!-- <ion-row>
            <ion-col col-12>
                <ion-item no-padding>
                    <ion-label float-right text-end stacked>رقم الثابت</ion-label>
                  <ion-input  type="text" formControlName="linenumber"  ></ion-input>
                  </ion-item>
            </ion-col>
          </ion-row> -->
          <ion-row>
              <ion-col col-12>
                  <ion-item no-padding>
                      <ion-label float-right text-end stacked>* البريد الالكترونى</ion-label>
                      <ion-input (ionChange)="checkEmailOrPhone(signup.email,'email')" email formControlName="email" name="email" [(ngModel)]="signup.email" pattern="[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})" maxlength=255  type="email" ></ion-input>
                    </ion-item>
                    <div text-end style="color:red; padding: 10px 10px;" *ngIf="signupForm.controls.email.invalid && signupForm.controls.email.getError('exist')">
                      هذا الايميل مسجل من قبل
                    </div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-12 col-md-6>
                  <ion-item no-padding>
                      <ion-label float-right text-end stacked>* كلمة السر</ion-label>
                      <ion-input formControlName="password" name="password" [(ngModel)]="signup.password" minlength=6 type="password" ></ion-input>
                    </ion-item>
              </ion-col>
                <ion-col col-12 col-md-6>
                    <ion-item no-padding>
                        <ion-label float-right text-end stacked>* إعادة كلمة السر</ion-label>
                        <ion-input (ionChange)="validPassword()" formControlName="password_confirmation" name="password_confirmation" minlength=6 [(ngModel)]="signup.password_confirmation"  type="password"></ion-input>
                    </ion-item>
                    <div text-end style="color:red; padding: 10px 10px;" *ngIf="signupForm.controls.password_confirmation.invalid && signupForm.controls.password_confirmation.getError('noEqual')">
                        الباسورد ليست متطابقة
                    </div>
                </ion-col>
              </ion-row>
         
            
                <ion-row margin-top padding-bottom>
                    <ion-col col-12 >
                        <button  ion-button round full type="submit" [disabled]="signupForm.invalid">التالي</button>
                    </ion-col>
                    <ion-col col-12>
                        <a text-center block (click)="goToLogin()">لديك حساب بالفعل ؟ تسجيل دخول</a>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    
                  </ion-row>  
        </ion-grid>
  </form>
</ion-content>
